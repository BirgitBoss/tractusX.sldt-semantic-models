@prefix samm: <urn:samm:org.eclipse.esmf.samm:meta-model:2.1.0#> .
@prefix samm-c: <urn:samm:org.eclipse.esmf.samm:characteristic:2.1.0#> .
@prefix samm-e: <urn:samm:org.eclipse.esmf.samm:entity:2.1.0#> .
@prefix unit: <urn:samm:org.eclipse.esmf.samm:unit:2.1.0#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <urn:samm:io.catenax.qax:1.0.0#> .

:FailurePattern a samm:Aspect ;
   samm:description "Semantic model for a quality failure pattern."@en ;
   samm:properties ( :referenceToAspectModel :failurePatternDefinition ) ;
   samm:operations ( ) ;
   samm:events ( ) .

:referenceToAspectModel a samm:Property ;
   samm:preferredName "Reference to aspect model"@en ;
   samm:description "This property describes the underlying aspect model to which this failure pattern definition should be applied to."@en ;
   samm:characteristic :LinkToAspectModel .

:failurePatternDefinition a samm:Property ;
   samm:preferredName "Pattern definition"@en ;
   samm:characteristic :ListOfPatterns .

:LinkToAspectModel a samm:Characteristic ;
   samm:preferredName "Link to aspect model"@en ;
   samm:description "This characteristic groups all necessary properties to refer to an existing Catena-X aspect model."@en ;
   samm:dataType :AspectModel .

:ListOfPatterns a samm-c:List ;
   samm:dataType :Pattern .

:AspectModel a samm:Entity ;
   samm:preferredName "Aspect model"@en ;
   samm:description "One existing Catena-X aspect model"@en ;
   samm:properties ( :nameSpace :ttlFile :modelVersion ) .

:Pattern a samm:Entity ;
   samm:properties ( [ samm:property :stringExpressions; samm:optional true ] [ samm:property :booleanExpressions; samm:optional true ] [ samm:property :childPattern; samm:optional true ] [ samm:property :dateRangeExpressions; samm:optional true ] ) .

:nameSpace a samm:Property ;
   samm:preferredName "Name space"@en ;
   samm:description "Name space of the model"@en ;
   samm:see <https://github.com/eclipse-tractusx/sldt-semantic-models> ;
   samm:characteristic :QAXNamespaces ;
   samm:exampleValue "io.catenax.fleet.vehicles" .

:ttlFile a samm:Property ;
   samm:preferredName "TTl file name"@en ;
   samm:description "A defined ttl file"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "Vehicles.ttl" .

:modelVersion a samm:Property ;
   samm:preferredName "Model version"@en ;
   samm:description "Version of aspect model."@en ;
   samm:characteristic :ModelVersionTrait ;
   samm:exampleValue "2.1.0" .

:stringExpressions a samm:Property ;
   samm:characteristic :StringExpressionList .

:booleanExpressions a samm:Property ;
   samm:characteristic :BooleanExpressionList .

:childPattern a samm:Property ;
   samm:characteristic :ListOfPatterns .

:dateRangeExpressions a samm:Property ;
   samm:characteristic :DateRangeExpressionList .

:QAXNamespaces a samm-c:Enumeration ;
   samm:preferredName "Aspect model from CX use case quality."@en ;
   samm:description "A list to all existing qax namespaces."@en ;
   samm:dataType xsd:string ;
   samm-c:values ( "io.catenax.fleet.claim_data" "io.catenax.fleet.diagnostic_data" "io.catenax.fleet.vehicles" "io.catenax.manufactured_parts_quality_information" "io.catenax.parts_analyses" "io.catenax.quality_task" ) .

:ModelVersionTrait a samm-c:Trait ;
   samm:preferredName "Model Versioning Trait"@en ;
   samm:description "This trait ensures proper versioning of an aspect model."@en ;
   samm-c:baseCharacteristic samm-c:Text ;
   samm-c:constraint :RegexForAspectModelVersions .

:StringExpressionList a samm-c:List ;
   samm:dataType :StringExpression .

:BooleanExpressionList a samm-c:List ;
   samm:dataType :BooleanExpression .

:DateRangeExpressionList a samm-c:List ;
   samm:dataType :DateRangeExpression .

:RegexForAspectModelVersions a samm-c:RegularExpressionConstraint ;
   samm:preferredName "Regex for aspect model versions"@en ;
   samm:description "This regular expression ensures that the version is [1-9].[0-9].[0.9]"@en ;
   samm:value "^[1-9].[0-9].[0-9]$" .

:StringExpression a samm:Entity ;
   samm:properties ( [ samm:property :outsideOperator; samm:optional true ] :stringPropertyName :stringInsideOperator :stringValue ) .

:BooleanExpression a samm:Entity ;
   samm:properties ( [ samm:property :outsideOperator; samm:optional true ] :booleanPropertyName :booleanInsideOperator :booleanValue ) .

:DateRangeExpression a samm:Entity ;
   samm:properties ( [ samm:property :outsideOperator; samm:optional true ] :datePropertyName :dateRangeInsideOperator :dateFrom :dateTo ) .

:outsideOperator a samm:Property ;
   samm:description "The outside operator can be AND or OR."@en ;
   samm:characteristic :OutsideOperatorEnumeration .

:stringPropertyName a samm:Property ;
   samm:description "A property name of type string from the model."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "vehicleSeries" .

:stringInsideOperator a samm:Property ;
   samm:characteristic :StringInsideOperatorEnumeration ;
   samm:exampleValue "equal" .

:stringValue a samm:Property ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "EA189" .

:booleanPropertyName a samm:Property ;
   samm:description "A property name of type booleanfrom the model."@en ;
   samm:characteristic samm-c:Text .

:booleanInsideOperator a samm:Property ;
   samm:characteristic :BooleanInsideOperatorEnumerator ;
   samm:exampleValue "equal" .

:booleanValue a samm:Property ;
   samm:characteristic samm-c:Boolean ;
   samm:exampleValue true .

:datePropertyName a samm:Property ;
   samm:description "A property name of type timestamp from the model."@en ;
   samm:characteristic samm-c:Text .

:dateRangeInsideOperator a samm:Property ;
   samm:characteristic :DateRangeInsideOperatorEnumeration ;
   samm:exampleValue "from_to" .

:dateFrom a samm:Property ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2024-01-01T00:00:00"^^xsd:dateTime .

:dateTo a samm:Property ;
   samm:characteristic samm-c:Timestamp ;
   samm:exampleValue "2024-12-01T00:00:00"^^xsd:dateTime .

:OutsideOperatorEnumeration a samm-c:Enumeration ;
   samm:dataType xsd:string ;
   samm-c:values ( "and" "or" ) .

:StringInsideOperatorEnumeration a samm-c:Enumeration ;
   samm:dataType xsd:string ;
   samm-c:values ( "equal" "not" "like" ) .

:BooleanInsideOperatorEnumerator a samm-c:Enumeration ;
   samm:dataType xsd:string ;
   samm-c:values ( "equal" "not_equal" ) .

:DateRangeInsideOperatorEnumeration a samm-c:Enumeration ;
   samm:dataType xsd:string ;
   samm-c:values ( "from_to" "not_from_to" ) .

