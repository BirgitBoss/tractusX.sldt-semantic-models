#######################################################################
# Copyright (c) 2022 Robert Bosch GmbH
# Copyright (c) 2022 Bayerische Motoren Werke Aktiengesellschaft (BMW AG)
# Copyright (c) 2022 Mercedes Benz AG
# Copyright (c) 2022 Volkswagen AG
# Copyright (c) 2022 ZF Friedrichshafen AG
# Copyright (c) 2022 SAP SE
# Copyright (c) 2022 Siemens AG
# Copyright (c) 2022 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This work is made available under the terms of the
# Creative Commons Attribution 4.0 International (CC-BY-4.0) license,
# which is available at
# https://creativecommons.org/licenses/by/4.0/legalcode.
#
# SPDX-License-Identifier: CC-BY-4.0
#######################################################################

@prefix samm: <urn:samm:org.eclipse.esmf.samm:meta-model:2.1.0#> .
@prefix samm-c: <urn:samm:org.eclipse.esmf.samm:characteristic:2.1.0#> .
@prefix samm-e: <urn:samm:org.eclipse.esmf.samm:entity:2.1.0#> .
@prefix unit: <urn:samm:org.eclipse.esmf.samm:unit:2.1.0#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <urn:samm:io.catenax.early_warning_notification:1.0.0#> .
@prefix ext-header: <urn:samm:io.catenax.shared.message_header:1.0.0#> .

:EarlyWarningNotification a samm:Aspect ;
   samm:preferredName "EarlyWarningNotification"@en ;
   samm:properties ( :content ext-header:header ) ;
   samm:operations ( ) ;
   samm:events ( ) .

:content a samm:Property ;
   samm:preferredName "Notification Content"@en ;
   samm:description "This is the payload for the Early Warning notification."@en ;
   samm:characteristic :EarlyWarningNotificationCharacteristic .

:EarlyWarningNotificationCharacteristic a samm:Characteristic ;
   samm:preferredName "Early Warning Notification Characteristic"@en ;
   samm:description "The characteristic for the Early Warning Notification"@en ;
   samm:dataType :EarlyWarningNotificationPayload .

:EarlyWarningNotificationPayload a samm:Entity ;
   samm:preferredName "Early Warning Notification Payload"@en ;
   samm:description "The payload for the Early Warning Notification"@en ;
   samm:properties ( :qualityTaskID :anomalyDescription [ samm:property :qualityAppFilter; samm:optional true ] [ samm:property :earlyWarningAttachmentLink; samm:optional true ] ) .

:qualityTaskID a samm:Property ;
   samm:preferredName "QualityTaskID"@en ;
   samm:description "An ID to reference a existing early warning project and its data"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "BPN-811_2022_000001" .

:anomalyDescription a samm:Property ;
   samm:preferredName "Anomaly Description"@en ;
   samm:description "Some text describing the detected anomaly in the data"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "There is an unusual number of DTCs occuring in the population described by the property qualityAppFiilter" .

:qualityAppFilter a samm:Property ;
   samm:preferredName "Quality App Filter"@en ;
   samm:description "A filter to define the population of affected parts in a Catena-X quality app"@en ;
   samm:characteristic :QualityAppFilterCharacteristic .

:earlyWarningAttachmentLink a samm:Property ;
   samm:preferredName "Additional Quality Data Link"@en ;
   samm:description "This property provides a reference to an EDC asset that will contain a zip file organized according to the specification CX-0092 and the model defined in io.catenax.quality_task_attachment:1.0.0. The zip file will contain additional data describing the early warning case."@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "subprotocolBody: catalogEndpoint=https://test.com/catalog;dataset=79afc338-f7ea-4255-a17d-ba6faf40d2b5" .

:QualityAppFilterCharacteristic a samm:Characteristic ;
   samm:preferredName "Quality App Filter Characteristic"@en ;
   samm:description "Characteristic for the quality app filter"@en ;
   samm:dataType :QualityAppFilter .

:QualityAppFilter a samm:Entity ;
   samm:preferredName "Affected Population Filter"@en ;
   samm:description "A set of filters and/or a list defining the affected population"@en ;
   samm:properties ( :populationFilter :uniqueIdentifiers ) .

:populationFilter a samm:Property ;
   samm:preferredName "Population Filter"@en ;
   samm:description "Filters on the common early warning data set to specify a population"@en ;
   samm:characteristic :PopulationFilterCharactaristic .

:uniqueIdentifiers a samm:Property ;
   samm:preferredName "List Of Serial Numbers"@en ;
   samm:description "List of unique identifiers to explicitly specify parts or vehicles exhibiting the issue described in the property \"anomalyDescription\""@en ;
   samm:characteristic :UniqueIdentifiersCharacteristic .

:PopulationFilterCharateristic a samm-c:List ;
   samm:preferredName "Population Filter Characteristic"@en ;
   samm:description "Characteristic for the filter"@en ;
   samm:dataType :PopulationFilter .

:UniqueIdentifiersCharacteristic a samm-c:List ;
   samm:preferredName "Unique Identifiers Characteristic"@en ;
   samm:description "Characteristic for the UIDs"@en ;
   samm:dataType :UniqueIdentifier .

:PopulationFilter a samm:Entity ;
   samm:preferredName "Population Filter"@en ;
   samm:description "Population filter for the early warning data"@en ;
   samm:properties ( :aspectProperty :aspectModel :rangeFrom :rangeTo :dataType :values ) .

:UniqueIdentifier a samm:Entity ;
   samm:preferredName "Unique Identifier"@en ;
   samm:description "A UID"@en ;
   samm:properties ( :anonymizedVIN :catenaXId :serialPartNumber ) .

:aspectProperty a samm:Property ;
   samm:preferredName "Aspect Property"@en ;
   samm:description "A property from the aspect model referenced by \"aspectModel\""@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "production.productionDate" .

:aspectModel a samm:Property ;
   samm:preferredName "Aspect Model"@en ;
   samm:description "A reference to an aspect model standardized by Catena-X for the quality use case"@en ;
   samm:characteristic samm-c:ResourcePath ;
   samm:exampleValue "urn:bamm:io.catenax.manufactured_parts_quality_information:1.0.0"^^xsd:anyURI .

:rangeFrom a samm:Property ;
   samm:preferredName "Value Range From"@en ;
   samm:description "Start value of a value range for an aspect property "@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "2019-02-01T00:00:00" .

:rangeTo a samm:Property ;
   samm:preferredName "Value Range To"@en ;
   samm:description "End value of a value range for an aspect property "@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "2019-07-30T23:59:59" .

:dataType a samm:Property ;
   samm:preferredName "Data Type"@en ;
   samm:description "Data type for the aspect propoerty"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "date" .

:values a samm:Property ;
   samm:preferredName "List of Values"@en ;
   samm:description "A list of values for the aspect property"@en ;
   samm:characteristic :ValuesCharacteristic .

:anonymizedVIN a samm:Property ;
   samm:preferredName "VAN"@en ;
   samm:description "A unique but anonymized identifier for a vehicle"@en ;
   samm:see <urn:samm:io.catenax.vehicle.product_description:3.0.0> ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "3747429FGH382923974682" .

:catenaXId a samm:Property ;
   samm:preferredName "Catena-X ID"@en ;
   samm:description "A unique identifier for a part or a vehicle. The identifier relates to a Catena-X digital twin."@en ;
   samm:see <https://github.com/eclipse-tractusx/sldt-semantic-models/blob/a07bdd5b1515767d4f8d07deb47cf2a4aa728bef/io.catenax.quality_message_content/1.0.0/QualityMessageContent.ttl> ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "urn:uuid:c227a880-b82b-40f7-846c-3942ddf26c29" .

:serialPartNumber a samm:Property ;
   samm:preferredName "Serial Part Number"@en ;
   samm:description "A unique serial number for a produced part"@en ;
   samm:characteristic samm-c:Text ;
   samm:exampleValue "436347347.4343884384.FTG.538348" .

:ValuesCharacteristic a samm-c:List ;
   samm:preferredName "Values Characteristic"@en ;
   samm:description "Characteristic for the list of values"@en ;
   samm:dataType xsd:string .

